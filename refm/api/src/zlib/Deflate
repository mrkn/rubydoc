= class Zlib::Deflate < Zlib::ZStream


== Class Methods

--- deflate(string, level = Zlib::DEFAULT_COMPRESSION ) -> String

string を圧縮します。level の有効な値は
Zlib::NO_COMPRESSION, Zlib::BEST_SPEED,
Zlib::BEST_COMPRESSION, Zlib::DEFAULT_COMPRESSION
及び 0 から 9 の整数です。

ちなみに、このメソッドは以下のコードとほぼ同じです:

  def deflate(string, level)
    z = Zlib::Deflate.new(level)
    dst = z.deflate(string, Zlib::FINISH)
    z.close
    dst
  end

@param string 圧縮する文字列を指定します。 
@param level 圧縮の水準を詳細に指定します。
             有効な値は Zlib::NO_COMPRESSION, Zlib::BEST_SPEED,
             Zlib::BEST_COMPRESSION, Zlib::DEFAULT_COMPRESSION 及び 0 から 9 の整数です。

使用例
  require 'zlib'

  srand(1)
  str = (1..500).collect{
    ['A', 'T', 'C', 'G'].at(rand(4))
  }.join

  p str.size #=> 500

  [ Zlib::NO_COMPRESSION,
    Zlib::BEST_SPEED,
    Zlib::BEST_COMPRESSION,
    Zlib::DEFAULT_COMPRESSION ].each { |level|
    deflate_str = Zlib::Deflate.deflate(str, level)
    p deflate_str.size
    # 展開する場合は、下記を実行する
    #puts Zlib::Inflate.inflate(str)
  }
  #出力例
  #=> 511
  #=> 200
  #=> 194
  #=> 194

--- new([level[, windowBits[, memlevel[, strategy]]]])
#@todo

圧縮ストリームを作成します。各引数の詳細は zlib.h を
参照して下さい。nil の場合はデフォルトの値を使用します。

== Instance Methods

--- clone
#@todo

圧縮ストリームを複製します。

--- deflate(string[, flush])
#@todo

string を圧縮ストリームに入力します。処理後、ストリームからの
出力を返します。このメソッドを呼ぶと出力バッファ及び入力バッファは
空になります。string が nil の場合はストリームへの入力を
終了します。([[m:Zlib::ZStream#finish]] と同じ)。
flush には Zlib::NO_FLUSH, Zlib::SYNC_FLUSH,
Zlib::FULL_FLUSH, Zlib::FINISH のいずれかを指定します。
詳しくは zlib.h を参照して下さい。

--- << string
#@todo

[[m:Zlib::Deflate#deflate]] と同じように string を
圧縮ストリームに入力しますが、Zlib::Deflate オブジェクト
そのものを返します。圧縮ストリームからの出力は、
出力バッファに保存されます。

--- flush([flush])
#@todo

deflate('', flush) と同じです。flush が
省略された時は [[unknown:Zlib::SYNC_FLUSH|Zlib/Zlib::SYNC_FLUSH]] が使用されます。
このメソッドはスクリプトの可読性のために提供されています。

--- finish
#@todo

圧縮ストリームを終了します。deflate('', Zlib::FINISH) と同じです。

--- params(level, strategy)
#@todo

圧縮ストリームの設定を変更します。詳しくは zlib.h を
参照して下さい。設定の変更に伴うストリームからの出力は
出力バッファに保存されます。

--- set_dictionary(string)
#@todo

圧縮に用いる辞書を指定します。string を返します。
このメソッドは [[m:Zlib::Deflate.new]], [[m:Zlib::ZStream#reset]]
を呼び出した直後にのみ有効です。詳細は zlib.h を参照して下さい。
