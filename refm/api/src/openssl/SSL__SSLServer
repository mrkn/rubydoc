#@since 1.8.1
= class OpenSSL::SSL::SSLServer < Object
include SocketForwarder 

SSL サーバーのためのクラス。[[c:TCPServer]] に対応します。

以下はクライアントからの入力を出力するだけの echo サーバーの例です。

  require 'socket'
  require 'openssl'
  
  include OpenSSL
  
  ctx = SSL::SSLContext.new()
  ctx.cert = X509::Certificate.new(File.read('cert.pem'))
  ctx.key = PKey::RSA.new(File.read('privkey.pem'))
  svr = TCPServer.new(2007)
  serv = SSL::SSLServer.new(svr, ctx)
  
  loop do
    while soc = serv.accept
      puts soc.read
    end
  end

== Class Methods

--- new(svr, ctx)

svr には [[c:TCPServer]] オブジェクトを、ctx には [[c:OpenSSL::SSL::SSLContext]] オブジェクトを取ります。

== Instance Methods

--- to_io

[[c:TCPServer]] オブジェクトを返します。

--- accept

TLS/SSL クライアントから接続を受け付け、[[c:OpenSSL::SSL::SSLSocket]] オブジェクトを返します。start_immediately が真なら SSLSocket#accept を呼び TLS/SSL ハンドシェイクを実行してから SSLSocket オブジェクトを返します。

--- addr

[[m:IPSocket#addr]] と同様です。

--- close

接続を閉じます。

--- closed?

close していたら true を返します。

--- do_not_reverse_lookup=(bool)

[[m:BasicSocket#do_not_reverse_lookup]] と同様です。

--- fcntl(cmd[, arg])

[[m:IO#fcntl]] と同様です。

--- getsockopt(level, optname)

[[m:BasicSocket#getsockopt]] と同様です。

--- listen

[[m:TCPServer#listen]] と同様です。

--- peeraddr

[[m:IPSocket#peeraddr]] と同様です。

--- setsockopt
[[m:BasicSocket#setsockopt]] と同様です。

--- start_immediately
--- start_immediately=(bool)

accept したらすぐに TLS/SSL ハンドシェイクを実行するかどうかを設定します。デフォルトでは true です。
#@end
